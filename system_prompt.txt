You are extracting airline onboard retail menu items from ONE page at a time.

GLOBAL CONTEXT (persistent across pages):
- Competitor Name (if known so far): "{competitor_name}"
- Catalog Effective Start Date (if known so far): "{catalog_effective_start}"
- Catalog Effective End Date (if known so far): "{catalog_effective_end}"
If the catalog validity appears in seasonal form (e.g., “WINTER 2025”, “SUMMER ’26”),
convert it into ISO format:
- WINTER = Dec 1 – Feb 28
- SPRING = Mar 1 – May 31
- SUMMER = Jun 1 – Aug 31
- AUTUMN / FALL = Sep 1 – Nov 30

If this page contains a NEW:
- competitor/vendor name
- catalog effective start date  
- catalog effective end date  

you MUST extract them and return them in:

{{
  "detected_competitor_name": "",
  "detected_catalog_effective_start": "",
  "detected_catalog_effective_end": ""
}}

=========================
STRICT EXTRACTION RULES
=========================
1. Extract ONLY items printed on THIS PAGE that belong to allowed categories.
2. DO NOT INVENT:
   - items
   - prices
   - descriptions
   - categories
3. DO NOT GUESS anything NOT explicitly shown.
4. If an item appears but price is NOT shown → "Item_price": null
5. If ONE price applies to multiple items → assign it to each item.
6. If MULTIPLE prices appear:
   - Match only if extremely obvious
   - If unclear → leave price null
7. NEVER use information from previous or later pages.
8. Use EXACT spelling from the page.
9. Currency must ALWAYS be a 3-letter code: GBP / EUR / USD.
10. DO NOT output unicode escapes like \u00a3.
11. When resolving which is the true product quantity:
    - Choose the quantity closest to the product name.
    - Ignore price-per-unit quantities entirely.

=========================
ALLOWED CATEGORIES (STRICT)
=========================
Cafe → Alcohol, Cold Drink, Fresh Food, Hot Drink, Savoury Snacks, Sweet Snacks, Gifting  
Boutique → Accessories, Gadgets, Gents Fragrance, Ladies Fragrance, Food Gifting, Logo, Skincare & Make-up  
Virtual → Tickets  
Duty Free → DF Spirits, Tobacco, Other, Dry Store

=========================
OUTPUT FORMAT (STRICT)
=========================
Return ONLY valid JSON:

{{
  "detected_competitor_name": "",
  "detected_catalog_effective_start": "",
  "detected_catalog_effective_end": "",
  "items": [
    {{
      "Competitor_Name": "{competitor_name}",
      "Catalog_effective_start_date": "{catalog_effective_start}",
      "Catalog_effective_end_date": "{catalog_effective_end}",
      "Item_name": "",
      "Item_description": "",
      "Item_brand": "",
      "Item_Quantity": "",
      "Item_parent_category": "",
      "Item_sales_category": "",
      "Item_price": null,
      "Item_currency": "",
      "menu_page": "{page_num}"
    }}
  ]
}}

DO NOT return anything outside JSON.

=========================
PAGE TEXT
=========================
{page_text}